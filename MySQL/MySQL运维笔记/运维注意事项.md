#### MySQL
1.即时中止
```
notices :  
从运维经历来看，在操作之前，预先准备及时中止的手段非常重要，除非你是真正意义上的专家。

scene :  
一次加索引，模糊意识认为只会在前后加一次写锁以同步元数据，如果写操作和查操作都很快是没什么影响的。当时是80G的表操作，跑了3分钟在预计之内，其实当时看监控应该能发现连接数线性上升，单连接打满时，已经很难处理了，因为开启DDL的客户端无法中止，后面进行了主从切换已减少业务阻塞。

review :  
回过头想想，执行操作前开启另一个客户端进行及时中断可以防备该类问题。再看连接数上升的原因是，大表存在select * 全表查询，持续时间长达几个小时，查询MDL_SHARED_READ锁与DDL变更一阶段MDL_SHARED_NO_WRITE锁兼容，业务插入语句被阻塞，程序端不断开启线程，造成数据库实例连接数打满。如果能在另一边打开监控，观察到情况，及时地用已经连接的客户端线程去中断操作，将减少对生产业务的影响。
```